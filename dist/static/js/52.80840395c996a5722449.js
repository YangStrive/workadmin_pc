webpackJsonp([52],{1173:function(e,t,a){(e.exports=a(54)(!1)).push([e.i,".wrapest{background:#fff}.payListCheckWrap{min-height:100vh;width:800px;box-sizing:border-box;border:1px solid #cecece;margin:0 auto;background:#fff;overflow:hidden;padding:0 50px;line-height:20px}.payListCheckWrap .title{margin:20px 0}.payListCheckWrap .title span{font-size:22px}.payListContent p{margin:10px 0}.payListContent p em{display:inline-block;font-size:12px;color:#8492a6;width:80px}.btnWrap{margin:20px 0 0 40px}.passBtn{margin-right:40px}.lookOver{margin-left:20px;background:url("+a(1436)+") no-repeat;padding-left:15px;color:#69e;cursor:pointer}",""])},1316:function(e,t,a){var i=a(1173);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);a(55)("64a75d0f",i,!0)},1436:function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBzdGFuZGFsb25lPSJubyI/PjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMS4xLy9FTiIgImh0dHA6Ly93d3cudzMub3JnL0dyYXBoaWNzL1NWRy8xLjEvRFREL3N2ZzExLmR0ZCI+PHN2ZyB0PSIxNjMwMzk0MjgwNTY0IiBjbGFzcz0iaWNvbiIgdmlld0JveD0iMCAwIDEwMjQgMTAyNCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHAtaWQ9IjE2ODkiIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB3aWR0aD0iMTYiIGhlaWdodD0iMTYiPjxkZWZzPjxzdHlsZSB0eXBlPSJ0ZXh0L2NzcyI+PC9zdHlsZT48L2RlZnM+PHBhdGggZD0iTTg0NS4zMTY4MSA4MDQuMjc5MDMzIDY2OS44MDYxMTYgNjI4Ljc2ODMzOWMzOS4yOTgwMjEtNDcuNzkyMTI1IDYwLjY4Njc4OC0xMDcuMjUwODQ5IDYwLjY4Njc4OC0xNjkuOTg0NDA5IDAtNzEuNjM3MDE4LTI3LjkzODQzNy0xMzguOTc1ODE1LTc4LjQ5MzcwNC0xODkuNjMzNDItNTAuNjU3NjA1LTUwLjY1NzYwNS0xMTcuOTk2NDAyLTc4LjQ5MzcwNC0xODkuNjMzNDItNzguNDkzNzA0cy0xMzguOTc1ODE1IDI3LjkzODQzNy0xODkuNjMzNDIgNzguNDkzNzA0Yy01MC42NTc2MDUgNTAuNjU3NjA1LTc4LjQ5MzcwNCAxMTcuOTk2NDAyLTc4LjQ5MzcwNCAxODkuNjMzNDJzMjcuOTM4NDM3IDEzOC45NzU4MTUgNzguNDkzNzA0IDE4OS42MzM0MmM1MC42NTc2MDUgNTAuNjU3NjA1IDExNy45OTY0MDIgNzguNDkzNzA0IDE4OS42MzM0MiA3OC40OTM3MDQgNjUuMzk0MzYzIDAgMTI3LjIwNjg3Ni0yMy4yMzA4NjEgMTc2LjAyMjM4Ny02NS45MDYwNTZsMTc0Ljk5OTAwMSAxNzQuOTk5MDAxYzQuNDAwNTYgNC40MDA1NiAxMC4xMzE1MjEgNi41NDk2NyAxNS45NjQ4MjEgNi41NDk2N3MxMS41NjQyNjEtMi4xNDkxMTEgMTUuOTY0ODIxLTYuNTQ5NjdDODU0LjExNzkyOSA4MjcuMzA1MjE3IDg1NC4xMTc5MjkgODEzLjA4MDE1MiA4NDUuMzE2ODEgODA0LjI3OTAzM3pNMjM5LjI2NzYzOSA0NTguNzgzOTNjMC0xMjMuMDEwOTkzIDEwMC4wODcxNDgtMjIzLjA5ODE0MSAyMjMuMDk4MTQxLTIyMy4wOTgxNDFzMjIzLjA5ODE0MSAxMDAuMDg3MTQ4IDIyMy4wOTgxNDEgMjIzLjA5ODE0MS0xMDAuMDg3MTQ4IDIyMy4wOTgxNDEtMjIzLjA5ODE0MSAyMjMuMDk4MTQxUzIzOS4yNjc2MzkgNTgxLjc5NDkyMyAyMzkuMjY3NjM5IDQ1OC43ODM5M3oiIHAtaWQ9IjE2OTAiIGZpbGw9IiM2Njk5ZWUiPjwvcGF0aD48L3N2Zz4="},1532:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"wrapest"},[a("div",{staticClass:"payListCheckWrap"},[e._m(0),e._v(" "),a("div",{staticClass:"payListContent"},[a("p",[a("em",[e._v("SaaS项目ID:")]),e._v(" "),a("span",[e._v(e._s(e.project_id))])]),e._v(" "),a("p",[a("em",[e._v("SaaS项目名称:")]),e._v(" "),a("span",[e._v(e._s(e.project_name))])]),e._v(" "),a("p",{staticStyle:{margin:"0"}},[a("em",[e._v("工资单名称：")]),e._v(" "),a("span",[e._v("\n          "+e._s(e.order_name)+"\n          "),a("span",{staticClass:"lookOver",on:{click:e.lookOverOrder}},[e._v("查看")])])]),e._v(" "),a("p",[a("em",[e._v("结算周期：")]),e._v(" "),a("span",[e._v("\n          "+e._s(e.startDate)+"~"+e._s(e.endDate)+"\n        ")])]),e._v(" "),a("p",[a("em",[e._v("状态：")]),e._v(" "),a("span",[0==e.status_no?a("span",[e._v("草稿")]):e._e(),e._v(" "),1==e.status_no?a("span",[e._v("待审批")]):e._e(),e._v(" "),2==e.status_no?a("span",[e._v("审批通过")]):e._e(),e._v(" "),3==e.status_no?a("span",[e._v("审批驳回")]):e._e(),e._v(" "),4==e.status_no?a("span",[e._v("支付中")]):e._e(),e._v(" "),5==e.status_no?a("span",[e._v("已支付")]):e._e(),e._v(" "),6==e.status_no?a("span",[e._v("支付异常")]):e._e()])]),e._v(" "),a("p",[a("em",[e._v("结算人数：")]),e._v(" "),a("span",[e._v("\n          "+e._s(e.settlementNumber)+"\n        ")])]),e._v(" "),a("p",[a("em",[e._v("总金额：")]),e._v(" "),a("span",[e._v("\n          "+e._s(e.total_wage)+"\n        ")])]),e._v(" "),a("p",[a("em",[e._v("关联工资单：")]),e._v(" "),a("span",[e._v("\n          "+e._s(e.wage_name)+"-"+e._s(e.wage_total_wage)+"\n          "),a("span",{staticClass:"lookOver",on:{click:e.lookOverWage}},[e._v("查看")])])]),e._v(" "),a("p",[a("em",[e._v("提交人：")]),e._v(" "),a("span",[e._v("\n          "+e._s(e.create_user_name)+"\n        ")])]),e._v(" "),a("p",[a("em",[e._v("备注：")]),e._v(" "),a("span",[e._v("\n          "+e._s(e.remarks)+"\n        ")])]),e._v(" "),a("p",[a("em",[e._v("附件：")]),e._v(" "),a("span",{staticStyle:{display:"inline-block","margin-left":"-5px"}},[a("elUpload",{ref:"uploadRef",attrs:{fileListValue:e.fileList,isDet:!0,isDisabled:!0}})],1)])]),e._v(" "),3==e.action_no?a("div",{staticClass:"btnWrap"},[a("el-button",{staticClass:"passBtn",attrs:{type:"success"},on:{click:function(t){return e.passFun()}}},[e._v("通过")]),e._v(" "),a("el-button",{attrs:{type:"danger"},on:{click:function(t){return e.refuseFun()}}},[e._v("拒绝")])],1):e._e()])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"title"},[t("span",[this._v("工资单审核")])])}]}},382:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a(5);t.default={name:"",components:{},props:{isDet:{type:Boolean,default:!1},fileListValue:{type:Array,default:function(){return[]}},isDisabled:{type:Boolean,default:!1},limitCount:{type:Number,default:10},width:{type:Number,default:300},elTips:{type:String,default:"请上传特批支付审核附件，单个文件需要小于5M"}},data:function(){return{hideUpload:!1,actionUrl:i.f+"/sea/api/1.0/client/v1/common/upload/accessory",uploadData:{dmclient:"pcweb"},uploadName:"file",dialogImageUrl:"",dialogVisible:!1}},computed:{getFileListValue:function(){return this.fileListValue||[]}},watch:{$route:function(e,t){window.location.reload()}},mounted:function(){},methods:{preview:function(e){console.log("file==",e);var t=e.status,a=e.response;if("success"==t&&a){var i=a.data.file_url;window.open("//image-inner.doumi.com/"+i,"_blank")}else window.open("//image-inner.doumi.com/"+e.url,"_blank")},beforeUpload:function(e){if(console.log("this.getFileListValue.length==",this.getFileListValue.length),this.getFileListValue.length>=10)return this.$message({message:"最多上传10个附件！",type:"error"}),!1;console.log("file===",e);var t=e.name,a=t.substring(t.lastIndexOf("."));return console.log(a,"suffix"),".pdf"!==a&&".png"!==a&&".jpg"!==a&&".jpeg"!==a?(this.$message({message:"暂不支持该种文件格式上传",type:"error"}),!1):!(e.size>5242880)||(this.$message({message:"文件过大，最大可上传5M",type:"error"}),!1)},uploadImage:function(e,t,a){if(console.log("上传图片成功后res====",e,t,a),"0"==e.errno){var i=e.data;this.getFileListValue.push({url:i.file_url,name:i.file_name})}else this.$message({message:""+e.errmsg,type:"error"});this.$emit("getNewFileListFun",this.getFileListValue)},handleRemove:function(e,t){console.log(e,t);var a=this.getFileListValue.findIndex(function(t){return t.url==e.url});a>-1&&this.getFileListValue.splice(a,1),this.hideUpload=t.length>=this.limitCount},onChange:function(e,t){this.hideUpload=t.length>=this.limitCount},handleUploadError:function(e,t,a){console.log(e,t,a,"---------------err"),this.$message.error("上传失败")},clearFilesFun:function(){this.$refs.upload.clearFiles(),this.hideUpload=!1,this.isDet=!1}}}},385:function(e,t,a){(e.exports=a(54)(!1)).push([e.i,".uploadWrap{display:-webkit-box;display:-ms-flexbox;display:flex;width:300px}.uploadBtn{height:36px;margin-left:0!important}.uploadTitle{width:80px}.uploadSection{-webkit-box-flex:1;-ms-flex:1;flex:1}.uploadWrap .el-upload-list{margin-top:-10px}.uploadWrap .hide .el-upload{display:none}.uploadWrap .hide .el-upload-list{margin-left:0}.uploadWrap .uploadSection a.el-upload-list__item-name{display:block;width:250px}.uploadWrap .hide2 .el-upload,.uploadWrap .hide2 .el-upload__tip{display:none}.uploadWrap .hide2 .el-upload-list{margin-left:0}.uploadWrap .el-upload__tip{display:inline-block;margin-top:0!important}.uploadWrap .el-upload-list__item.is-success.focusing .el-icon-close-tip{display:none!important}",""])},387:function(e,t,a){var i=a(385);"string"==typeof i&&(i=[[e.i,i,""]]),i.locals&&(e.exports=i.locals);a(55)("47e9f415",i,!0)},408:function(e,t,a){var i=a(2)(a(382),a(409),function(e){a(387)},null,null);e.exports=i.exports},409:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"uploadWrap",style:{width:e.width+"px"}},[a("div",{staticClass:"uploadSection"},[a("el-upload",{ref:"upload",class:{hide:e.hideUpload,hide2:e.isDet},attrs:{action:e.actionUrl,data:e.uploadData,name:e.uploadName,"on-preview":e.preview,"on-remove":e.handleRemove,"on-success":e.uploadImage,"before-upload":e.beforeUpload,"on-error":e.handleUploadError,"file-list":e.getFileListValue,limit:e.limitCount,"on-change":e.onChange,accept:".pdf,.bmp,.png,.gif,.jpg,.jpeg",disabled:e.isDisabled}},[a("div",{staticClass:"el-upload__tip",attrs:{slot:"tip"},slot:"tip"},[e._v(e._s(e.elTips))]),e._v(" "),a("el-button",{staticClass:"uploadBtn",attrs:{size:"mini",type:"primary"}},[e._v("点击上传")])],1)],1)])},staticRenderFns:[]}},970:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=a(5),o=a(408),n=a.n(o);t.default={name:"PayListCheck",components:{elUpload:n.a},props:{},data:function(){return{order_name:"",project_name:"",project_id:"",create_user_name:"",startDate:"",endDate:"",wage_order_id:"",wage_name:"",settlementNumber:0,wage_total_wage:"",total_wage:0,remarks:"",fileList:[],action_no:null,status_no:""}},computed:{},watch:{},mounted:function(){this.getData(),this.getProjectListData()},methods:{getProjectListData:function(){var e=this;i.b({url:"/project/search",type:"GET",data:{search_str:this.$route.query.project_id||3408,status:0,page_no:"",page_size:"",view_type:2,team_id:this.team_id||26},timeout:1e4,success:function(t){var a=t.errmsg,o=t.data;if(t&&0==t.errno){var n=o.list[0];i.c("projectStorageInfo",n)}else e.alertinfo(a)},error:function(t,a){e.loading=!1},noNetwork:function(){e.loading=!1,e.$message({showClose:!0,message:"网络连接失败，请检查网络",type:"warning"})}})},getData:function(){var e=this;i.b({url:"/wage/order_user/detail",type:"GET",data:{team_id:this.$route.query.team_id||26,project_id:this.$route.query.project_id||3408,order_id:this.$route.query.order_id||2798},timeout:6e4,success:function(t){console.log("result===",t);var a=t.errno,o=t.data,n=t.errmsg;"0"==a?(e.order_name=o.general.order_name,e.order_id=o.general.order_id,e.startDate=i.e(1e3*o.general.start_date,"yyyy-MM-dd"),e.endDate=i.e(1e3*o.general.end_date,"yyyy-MM-dd"),e.create_user_name=o.approve.create_user_name,e.project_name=o.general.project_name,e.project_id=o.general.project_id,e.team_id=o.general.team_id,e.wage_order_id=o.general.wage_order_id,e.wage_name=o.general.wage_name,e.wage_total_wage=o.general.wage_total_wage,e.remarks=o.general.remarks,e.total_wage=o.general.total_wage/100,e.settlementNumber=o.detail.list.length,e.action_no=o.action_no.action_no,e.status_no=o.general.status_no,o.general.enclosure&&JSON.parse(o.general.enclosure).length>0&&(e.fileList=JSON.parse(o.general.enclosure))):(e.alertinfo(n),window.open("https://vip.doumi.com/login","_self"))},error:function(t,a){e.alertinfo("服务器异常")},noNetwork:function(){e.alertinfo("网络连接失败，请检查网络")}})},alertinfo:function(e,t){this.btnDisable=!1,this.fullscreenLoading=!1,this.$message({showClose:!0,message:e,type:t||"warning"})},passFun:function(){this.approveOrderFun(1)},refuseFun:function(){this.approveOrderFun(0)},approveOrderFun:function(e){var t=this;i.b({url:"/wage/approve/order",type:"GET",data:{team_id:this.$route.query.team_id||26,project_id:this.$route.query.project_id||3408,order_id:this.$route.query.order_id||2795,action_no:e,remark:"",payment_method:""},timeout:6e4,success:function(a){var i=a.errno,o=(a.data,a.errmsg);"0"==i?(1===e?t.alertinfo("通过成功","success"):0===e&&t.alertinfo("拒绝成功","success"),t.getData()):(t.alertinfo(o,"error"),t.getData())},error:function(e,a){t.alertinfo("服务器异常")},noNetwork:function(){t.alertinfo("网络连接失败，请检查网络")}})},lookOverOrder:function(){var e="/project/"+this.project_id+"/PaylistDetail?order_id="+this.order_id+"&project_id="+this.project_id+"&team_id="+this.team_id+'&ifConfirmEmail=false&from="check"',t=this.$router.resolve(e);window.open(t.href,"_blank")},lookOverWage:function(){var e="/project/"+this.project_id+"/PaylistDetail?order_id="+this.wage_order_id+"&project_id="+this.project_id+"&team_id="+this.team_id+'&ifConfirmEmail=false&from="check"',t=this.$router.resolve(e);console.log("jump===",t),window.open(t.href,"_blank")}}}},99:function(e,t,a){var i=a(2)(a(970),a(1532),function(e){a(1316)},null,null);e.exports=i.exports}});